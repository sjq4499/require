{"version":3,"sources":["views/home/components/setting/index.js"],"names":["HomeSettings","state","userFace","readyImg","e","_this","file","target","files","fileRead","FileReader","readAsDataURL","onload","setState","result","changeFace","formdata","FormData","append","props","info","this","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","style","width","height","overflow","borderRadius","type","onChange","src","facePhoto","phone","antd_es_button__WEBPACK_IMPORTED_MODULE_2__","onClick","React","Component","connect","Object","C_bawei_6_1612A_zhuanzhuan_clinet_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","user","dispatch","bindActionCreators","userAction"],"mappings":"8MAKMA,6MACFC,MAAQ,CACJC,SAAS,MAwBbC,SAAS,SAACC,GACNC,EAAKC,KAAOF,EAAEG,OAAOC,MAAM,GAC3B,IAAIC,EAAW,IAAIC,WACnBD,EAASE,cAAcN,EAAKC,MAC5BG,EAASG,OAAS,WACdP,EAAKQ,SAAS,CAACX,SAASO,EAASK,aAGzCC,WAAW,WACP,GAAGV,EAAKC,KAAK,CACT,IAAIU,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAOb,EAAKC,MAC5BD,EAAKc,MAAMJ,WAAWC,6EAlCtB,IACCI,EAAQC,KAAKF,MAAbC,KACAlB,EAAYmB,KAAKpB,MAAjBC,SACL,OAAOoB,EAAAC,EAAAC,cAAA,WACHF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CACPC,MAAM,IACNC,OAAO,IACPC,SAAS,SACTC,aAAa,QAEbP,EAAAC,EAAAC,cAAA,SAAOM,KAAK,OAAOC,SAAUV,KAAKlB,WAClCmB,EAAAC,EAAAC,cAAA,OAAKQ,IAAK9B,GAAsBkB,EAAKa,aAEzCX,EAAAC,EAAAC,cAAA,UACKJ,EAAKc,QAIdZ,EAAAC,EAAAC,cAAAW,EAAA,GAAQC,QAASf,KAAKN,YAAtB,wBAvBesB,IAAMC,WA2ClBC,sBACX,SAACtC,GACG,OAAOuC,OAAAC,EAAA,EAAAD,CAAA,GAAIvC,EAAMyC,OAErB,SAAAC,GAAQ,OAAEC,YAAmBC,EAAWF,IAJ7BJ,CAKbvC","file":"static/js/11.c9efcb58.chunk.js","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Button} from 'antd';\r\nimport {bindActionCreators} from 'redux';\r\nimport * as userAction from '@/store/user/user.action.js'\r\nclass HomeSettings extends React.Component{\r\n    state = {\r\n        userFace:''\r\n    }\r\n    render(){\r\n        let {info} = this.props\r\n        let {userFace} = this.state;\r\n        return <div>\r\n            <dl>\r\n                <dt style={{\r\n                    width:200,\r\n                    height:200,\r\n                    overflow:'hidden',\r\n                    borderRadius:'50%'\r\n                }}>\r\n                    <input type=\"file\" onChange={this.readyImg}/>\r\n                    <img src={userFace ? userFace : info.facePhoto} />\r\n                </dt>\r\n                <dd>\r\n                    {info.phone}\r\n                </dd>\r\n            </dl>\r\n\r\n            <Button onClick={this.changeFace}>更改</Button>\r\n        </div>\r\n    }\r\n    readyImg=(e)=>{\r\n        this.file = e.target.files[0]; //本地文件\r\n        let fileRead = new FileReader();\r\n        fileRead.readAsDataURL(this.file);\r\n        fileRead.onload = ()=>{\r\n            this.setState({userFace:fileRead.result});\r\n        }\r\n    }\r\n    changeFace=()=>{\r\n        if(this.file){\r\n            let formdata = new FormData();\r\n            formdata.append('file',this.file)\r\n            this.props.changeFace(formdata);\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state)=>{\r\n        return {...state.user}\r\n    },\r\n    dispatch=>bindActionCreators(userAction,dispatch)\r\n)(HomeSettings);"],"sourceRoot":""}